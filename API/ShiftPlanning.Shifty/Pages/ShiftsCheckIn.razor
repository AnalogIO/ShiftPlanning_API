@page "/ShiftsCheckIn"
@using ShiftPlanning.Shifty.Repositories
@using ShiftPlanning.DTOs.Shift
@inject IShiftRepository _shiftRepository
<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
    <MudText Class="H1">ShiftsCheckIn</MudText>
    @if (_shifts == null)
    {
        <MudProgressCircular Color="Color.Default" Indeterminate="true" Size="Size.Large"/>
    }
    else
    {
        <MudExpansionPanels>
            @foreach (var shiftDto in _shifts)
                {
                    <CheckInPanel Shift="shiftDto"></CheckInPanel>
                }
        </MudExpansionPanels>
    }
</MudContainer>


@code {
    private IEnumerable<ShiftDTO> _shifts;

    protected override async Task OnInitializedAsync()
    {
        _shifts = await _shiftRepository.TodayShifts();
    }

}